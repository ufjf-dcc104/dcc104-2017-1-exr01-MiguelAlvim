<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ex1</title>
	<script src="sprite.js" charset="utf-8">	</script>
  </head>
  <body>
	<canvas height=300 width=1200>
		<script>
			var eCanvas = document.getElementsByTagName("Canvas")[0];
			var ctx = eCanvas.getContext("2d");
			var pos1 = {px:10,py:30,sx:40,sy:40};
			
			var dateActual = new Date();
			var dateBefore = new Date();
			
			var blue = new Sprite();
			
			var fps = 60;
			var deltaTime = 1/fps;
			
			draw();
			
			function draw(){
				requestAnimationFrame(draw);
				dateBefore = dateActual;
				dateActual = new Date();
				deltaTime = (dateActual - dateBefore)/1000;
				
				cleanCanvas();
				drawBoundryBox();
				
				ctx.fillStyle = "BLACK";
				ctx.fillText("X: "+pos1.px,100,9);
				ctx.fillText("DT: "+deltaTime+" ms",100,19);
				ctx.fillText("FPS: "+1/deltaTime,100,29);
				ctx.fillText("AccX: "+blue.accx,100,39);
				ctx.fillText("AccY: "+blue.accy,100,49);
				
								
				
				blue.draw(ctx);
				blue.move(deltaTime);
				/*
				pos1.px += 10*deltaTime;
				ctx.fillStyle = "RED";
				ctx.fillRect(pos1.px,pos1.py,pos1.sx,pos1.sy);
				ctx.strokeRect(pos1.px,pos1.py,pos1.sx,pos1.sy);
				*/
			}
			
			function drawBoundryBox(){			
				ctx.strokeRect(0,0,eCanvas.width-1,eCanvas.height-1);
			}
			
			
			function cleanCanvas(){
				ctx.clearRect(0,0,eCanvas.width,eCanvas.height)
			}
			
			addEventListener("keydown", function(e){
				//console.log(e.keyCode);
				switch(e.keyCode){
					case 37:{//left
						blue.accx +=-10;
					}break;
					case 38:{//Up
						blue.accy +=-10;
					}break;
					
					case 39:{//Right
						blue.accx +=10;
					}break;
					
					case 40:{//Down
						blue.accy +=10;
					}break;
				}
			});
			addEventListener("keyup", function(e){
				//console.log(e.keyCode);
				switch(e.keyCode){
					case 37:{//left
				
					}break;
					case 38:{//Right
				
					}break;
					
					case 39:{//Up
				
					}break;
					
					case 40:{//Down
				
					}break;
				}
			});
			
		</script>
	</canvas>
  </body>
</html>
